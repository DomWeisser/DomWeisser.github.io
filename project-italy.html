<h3 class="modal-section-title">Project Overview</h3>
<p>
    During my work at Remote Sensing Solutions, I developed an operational drought forecasting system as part of the 
    <strong>EOAgri Twin project</strong> for ESA's Destination Earth initiative. The system provides 1-6 month ahead forecasts 
    of key agricultural indicators: Land Surface Temperature (LST), Normalised Difference Vegetation Index (NDVI), and 
    Normalised Difference Infrared Index (NDII), which serve as inputs to a drought monitoring model for 
    agricultural lands.
</p>

<h3 class="modal-section-title">Core Innovation: Scenario-Based Forecasting</h3>
<p>
    The key innovation of this system is its ability to generate <strong>"what-if" scenario forecasts</strong> that answer 
    critical questions for agricultural decision-makers: What will vegetation health look like in 3 months if we experience 
    drought conditions? How will crop stress evolve under extreme wet conditions? What is the range of possible outcomes 
    given precipitation uncertainty?
</p>
<p>
    The system provides five distinct forecasts per indicator, ranging from extreme dry (5th percentile precipitation) through 
    baseline climatology to extreme wet conditions (95th percentile), with intermediate dry and wet scenarios at the 20th and 
    80th percentiles respectively.
</p>

<h3 class="modal-section-title">Methodology</h3>

<h4 style="color:var(--accent-color); margin-top:15px;">Model Architecture</h4>
<p>
    The forecasting system employs an <strong>ensemble modeling framework</strong> combining XGBoost and ElasticNet regression, 
    with optimal weights determined individually for each geographic region (Italy, Germany, Kenya), target variable (LST, NDVI, NDII), 
    and forecast horizon (1-6 months ahead). This results in 18 specialized ensemble models, each tuned to the specific 
    spatiotemporal characteristics of its prediction task.
</p>

<h4 style="color:var(--accent-color); margin-top:15px;">Input Features</h4>
<p>
    The models utilize historical observations including lagged values (1, 2, 3, 6, and 12 months) of the target variable and 
    precipitation, along with rolling statistics to capture seasonal patterns. The critical innovation is the incorporation of 
    <strong>future precipitation scenarios</strong>, computed from location-specific monthly climatology (2001-2022) and scaled 
    by regional scenario multipliers.
</p>

<h4 style="color:var(--accent-color); margin-top:15px;">Spatially-Adaptive Scenario Generation</h4>
<p>
    A critical challenge addressed by this methodology is the heterogeneity of climate conditions within each country. 
    For example, northeastern Kenya experiences arid conditions with low precipitation variability, while southwestern Kenya 
    has tropical patterns with high variability. Simply applying uniform scenario definitions nationwide would produce 
    unrealistic forecasts.
</p>
<p><strong>Solution: Regional Scenario Calibration</strong></p>
<ol>
    <li>
        <strong>Stratified spatial sampling:</strong> Each country is divided into 1° × 1° grid cells, with 5 representative 
        training locations selected per cell to ensure geographic coverage while maintaining computational efficiency.
    </li>
    <li>
        <strong>Location-specific distributions:</strong> For each training location, monthly precipitation climatology 
        (2001-2022, N=20-22 years) is converted to standardized units and modeled using gamma distributions to account for 
        the positive-skewed nature of precipitation data.
    </li>
    <li>
        <strong>Regional scenario multipliers:</strong> Scenario thresholds (5th, 20th, 80th, 95th percentiles) are calculated 
        from the fitted distributions for each location, then averaged within each 1° × 1° region to create regionally-specific 
        scenario multipliers.
    </li>
    <li>
        <strong>Operational application:</strong> During forecasting, precipitation scenarios for any location are computed as:
    </li>
</ol>
<p style="background: rgba(255,255,255,0.1); padding: 10px; border-left: 3px solid var(--accent-color); font-family: monospace; font-size: 0.85rem;">
    Precipitation_scenario = Climatology_mean + (Climatology_std × Regional_multiplier)
</p>
<p>
    This approach ensures that an "extreme dry" scenario represents genuinely extreme conditions for both arid northeastern 
    Kenya (e.g., 5mm instead of 15mm) and wet southwestern Kenya (e.g., 80mm instead of 150mm).
</p>

<h4 style="color:var(--accent-color); margin-top:15px;">Spatial Resolution and Coverage</h4>
<p>
    Forecasts are generated at <strong>0.01° spatial resolution</strong> (~1km at the equator) exclusively over 
    <strong>agricultural lands</strong>, identified using Copernicus Land Cover classification (cropland, herbaceous, and 
    shrubland classes). This high-resolution, agriculture-focused approach provides actionable information for farm-scale 
    decision-making while maintaining computational feasibility. Current operational coverage includes approximately 270,000 
    agricultural pixels across Italy, with similar high-resolution coverage deployed for Germany and Kenya.
</p>

<h4 style="color:var(--accent-color); margin-top:15px;">Seasonal Considerations</h4>
<p>
    To optimize model performance for agricultural applications, training data is filtered to the growing season (May-October 
    in Europe), with adjustments based on forecast horizon. The 1-month horizon includes April-October targets to capture the 
    full growing season, while 3-6 month horizons focus on May-October to exclude the unpredictable spring transition period. 
    This seasonal focus improves prediction accuracy during critical periods for crop development.
</p>

<h3 class="modal-section-title">Model Performance</h3>
<p>
    Performance metrics demonstrate strong predictive skill across all forecast horizons. For example, the <strong>3-month ahead 
    LST forecasts for Italy</strong> achieve test R² of 0.83 with MAE of 2.5°C across 270,000 agricultural pixels, with 85% 
    scenario consistency (predictions maintain expected ordering across precipitation scenarios). The ensemble models consistently 
    outperform individual components, with future precipitation scenarios ranking as the second most important feature (18% importance). 
    Forecast skill decreases gracefully with increasing horizon, maintaining R² above 0.78 even at 6-month lead times.
</p>

<h3 class="modal-section-title">Operational Deployment</h3>
<p>
    The system generates monthly operational forecasts as <strong>multi-band GeoTIFF rasters</strong> for seamless integration 
    into the EOAgri Twin platform, providing five scenario forecasts per indicator with spatial uncertainty quantification 
    (±1σ bounds), agricultural land masking, and standardized CRS and resolution for downstream drought modeling.
</p>
