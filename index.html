<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dominic Weisser | AI & Earth Observation</title>
    
    <script src="//unpkg.com/three@0.148.0/build/three.min.js"></script>
    <script src="//unpkg.com/globe.gl@2.26.4/dist/globe.gl.min.js"></script>

    <style>
        /* --- CSS STYLES --- */
        :root {
            --sidebar-width: 320px;
            --bg-color: #000000;
            --text-color: #ffffff;
            --accent-color: #00ffcc; /* Cyan */
            --glass-bg: rgba(20, 25, 40, 0.95);
        }

        body { margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; background: var(--bg-color); color: var(--text-color); overflow: hidden; }
        #globeViz { position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1; }
        
        /* HEADER */
        .header-overlay { position: absolute; top: 20px; left: 80px; z-index: 5; pointer-events: none; text-align: left; max-width: 600px; }
        h1 { margin: 0; font-size: 2rem; text-shadow: 0 2px 4px rgba(0,0,0,0.8); }
        .subtitle { color: var(--accent-color); font-size: 1rem; font-weight: 600; text-shadow: 0 2px 4px rgba(0,0,0,0.8); }
        .uni-info { font-size: 0.85rem; color: #ddd; margin-top: 5px; opacity: 0.9; text-shadow: 0 2px 4px rgba(0,0,0,0.8); }

        .menu-btn { position: fixed; top: 25px; left: 20px; z-index: 20; background: rgba(0, 255, 204, 0.1); color: var(--accent-color); border: 1px solid var(--accent-color); padding: 10px 14px; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 1.2rem; }
        .menu-btn:hover { background: var(--accent-color); color: #000; }

        /* SIDEBAR STYLES */
        .sidebar { position: fixed; left: 0; top: 0; width: var(--sidebar-width); height: 100%; background: var(--glass-bg); backdrop-filter: blur(12px); border-right: 1px solid #333; z-index: 15; transform: translateX(-100%); transition: transform 0.3s ease-in-out; padding: 30px; box-sizing: border-box; padding-top: 80px; overflow-y: auto; }
        .sidebar.open { transform: translateX(0); }
        .close-sidebar { position: absolute; top: 20px; right: 20px; color: #aaa; cursor: pointer; font-size: 1.5rem; }

        /* MAIN MENU BUTTONS (Accordion Headers) */
        .menu-section-btn {
            width: 100%; text-align: left; background: none; border: none;
            color: var(--text-color); font-size: 1.2rem; font-weight: 600;
            padding: 15px 0; border-bottom: 1px solid #444; cursor: pointer;
            display: flex; justify-content: space-between; align-items: center;
        }
        .menu-section-btn:hover { color: var(--accent-color); }
        
        /* HIDDEN CONTENT SECTIONS */
        .menu-content { display: none; padding: 10px 0 10px 15px; } /* Indented */
        .menu-content.show { display: block; animation: fadeIn 0.3s; }

        /* Project Links */
        .sidebar-project-link { cursor: pointer; padding: 8px 0; font-size: 0.95rem; color: #ccc; border-left: 2px solid transparent; padding-left: 10px; margin-bottom: 5px; }
        .sidebar-project-link:hover { color: var(--accent-color); border-left: 2px solid var(--accent-color); background: rgba(255,255,255,0.05); }

        /* Contact Info */
        .contact-row { margin-bottom: 15px; font-size: 0.9rem; color: #ddd; }
        .contact-label { color: var(--accent-color); font-weight: bold; display: block; margin-bottom: 3px;}

        /* Buttons */
        a.btn { display: inline-block; background: var(--accent-color); color: #000; padding: 10px 20px; text-decoration: none; border-radius: 4px; font-size: 0.9rem; font-weight: bold; margin-top: 5px; cursor: pointer;}
        a.btn-outline { background: transparent; border: 1px solid var(--accent-color); color: var(--accent-color); }
        
        /* 2D DOTS */
        .project-dot {
            /* 1. The Visual Dot */
            width: 16px; 
            height: 16px; 
            background-color: var(--accent-color); 
            border-radius: 50%; 
            
            /* 2. The Invisible Hit Box (Crucial Fix) */
            /* This adds 12px of invisible clickable area on all sides */
            border: 12px solid transparent; 
            background-clip: padding-box; /* Ensures color stays inside the padding */
            
            /* 3. Interaction */
            cursor: pointer; 
            box-shadow: 0 0 15px var(--accent-color); /* Stronger Glow */
            transition: transform 0.2s, box-shadow 0.2s;
            
            /* 4. Centering correction because of the border */
            transform: translate(-50%, -50%);
        }

        .project-dot:hover { 
            transform: translate(-50%, -50%) scale(1.3); /* Grow slightly */
            background-color: #fff; 
            box-shadow: 0 0 25px var(--accent-color); /* Bright glow on hover */
            border-color: rgba(255, 255, 255, 0.1); /* Optional: Show a faint ring on hover */
        }

        /* --- MODALS (POPUPS) --- */
        .modal-overlay { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.85); backdrop-filter: blur(5px); }
        
        /* Standard Modal (Projects/About) */
        .modal-content { background-color: #151922; margin: 5% auto; padding: 40px; border: 1px solid var(--accent-color); width: 80%; max-width: 800px; border-radius: 8px; position: relative; }
        
        /* Wide Modal (for CV PDF) */
        .modal-content-wide { background-color: #151922; margin: 2% auto; padding: 20px; border: 1px solid var(--accent-color); width: 90%; height: 90%; border-radius: 8px; position: relative; display: flex; flex-direction: column;}

        .close-modal-btn { position: absolute; top: 15px; right: 20px; color: #fff; font-size: 30px; cursor: pointer; z-index: 10;}
        .close-modal-btn:hover { color: var(--accent-color); }

        /* Animation */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* About Me Images */
        .about-img-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .about-img { width: 100%; border-radius: 5px; border: 1px solid #444; }

    </style>
</head>
<body>

    <div id="globeViz"></div>
    <button class="menu-btn" onclick="toggleSidebar()">â˜°</button>

    <div class="header-overlay">
        <h1>Dominic Weisser</h1>
        <div class="subtitle">MSc AI for Sustainable Development - UCL</div>
        <div class="subtitle">BSc Maths, Operational Research, Statistics, Economics - Uni of Warwick</div>
    </div>

    <div class="sidebar" id="mySidebar">
        <div class="close-sidebar" onclick="toggleSidebar()">âœ•</div>
        
        <button class="menu-section-btn" onclick="openAbout()">
            About Me <span>&rarr;</span>
        </button>

        <button class="menu-section-btn" onclick="toggleAccordion('project-list-container')">
            Projects <span>&#9662;</span> </button>
        <div id="project-list-container" class="menu-content">
            </div>

        <button class="menu-section-btn" onclick="toggleAccordion('contact-container')">
            Contact / CV <span>&#9662;</span>
        </button>
        <div id="contact-container" class="menu-content">
            <div class="contact-row">
                <span class="contact-label">Email</span>
                dweisser99@gmail.com
            </div>
            <div class="contact-row">
                <span class="contact-label">Phone</span>
                +44 7000 000000
            </div>
            <br>
            <button class="btn" onclick="openCV()" style="width:100%">View My CV (PDF)</button>
        </div>
    </div>

    <div id="projectModal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal-btn" onclick="closeAllModals()">&times;</span>
            <h2 id="modalTitle" style="margin-top:0; color: var(--accent-color);">Title</h2>
            <div id="modalBody" style="line-height: 1.6; color: #ddd;">Desc</div>
            <div id="modalLinks" style="margin-top: 20px;"></div>
        </div>
    </div>

    <div id="aboutModal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal-btn" onclick="closeAllModals()">&times;</span>
            <h2 style="color: var(--accent-color); margin-top: 0;">My Journey</h2>
            <div style="color: #ddd; line-height: 1.8;">
                <p>
                    I was born in Thailand before moving to Germany, Turkey, Qatar, Spain and then the UK for my studies before spending a bit of time in Munich recently as well. 
                </p>
                <p>
                    My academic path started studying Maths and Statistics at Warwick before focusing on AI for the Environment at UCL.
                </p>
                <p>
                    I love hiking, diving, playing sports and am training for a 70.3 triathlon in 2026.
                </p> 
                
                <div class="about-img-grid">
                    <img src="IMG_7449.JPG" class="about-img" alt="My Trip">
                    <img src="IMG_7128.JPG" class="about-img" alt="My Trip">
                </div>
            </div>
        </div>
    </div>

    <div id="cvModal" class="modal-overlay">
        <div class="modal-content-wide">
            <span class="close-modal-btn" onclick="closeAllModals()">&times;</span>
            <h2 style="color: var(--accent-color); margin: 0 0 10px 0;">Curriculum Vitae</h2>
            
            <iframe id="cvFrame" src="" style="width: 100%; height: 100%; border: none; background: white;"></iframe>
            
            <div style="text-align: center; margin-top: 10px;">
                <a id="cvDownloadLink" href="#" target="_blank" style="color: #888; text-decoration: underline; font-size: 0.8rem;">
                    PDF not loading? Click here to download.
                </a>
            </div>
        </div>
    </div>

    <script>
        // --- DATA ---
        const myProjects = [
            { 
                lat: -1.2921, lng: 36.8219, name: "Kenya", fullName: "EOAgriTwin", 
                desc: "Drought Forecasting", 
                pdf: null, github: null
            },
            { 
                lat: 51.5074, lng: -0.1278, name: "UK", fullName: "Dissertation:", 
                desc: "Analyzing Land Surface Temperature (LST) variations in London.", 
                pdf: "Full Final Report.pdf", github: null 
            },
            { lat: 41.9028, lng: 12.4964, name: "Italy", fullName: "EOAgriTwin", desc: "Drought Forecasting", pdf: null, github: null },
            { lat: -15.8267, lng: -47.9218, name: "Brazil", fullName: "Amazon: Groundwater Monitoring", desc: "Proof of Concept to quantify the change in groundwater levels using Satellite imagery.", pdf: null, github: "https://github.com/DomWeisser/Multi-Scale-Groundwater-Monitoring-in-the-Amazon-Integrating-Satellite-and-In-Situ-well-data-with-ML" },
            { lat: 42.6977, lng: 23.3219, name: "Bulgaria", fullName: "CarbComply", desc: "SOC Modelling", pdf: null, github: null },
            { lat: 48.2082, lng: 16.3738, name: "Austria", fullName: "CarbComply", desc: "SOC Modelling", pdf: null, github: null },
            { lat: 78.2232, lng: 15.6267, name: "Arctic", fullName: "Arctic: Sea Ice", desc: "CryoSat-2 altimetry.", pdf: null, github: null }
        ];

        // --- NEW SIDEBAR LOGIC (ACCORDIONS) ---
        function toggleSidebar() { document.getElementById('mySidebar').classList.toggle('open'); }
        
        function toggleAccordion(id) {
            const content = document.getElementById(id);
            // Toggle the 'show' class to slide it open/closed
            if (content.classList.contains('show')) {
                content.classList.remove('show');
            } else {
                content.classList.add('show');
            }
        }

        // --- MODAL SYSTEM ---
        const projectModal = document.getElementById("projectModal");
        const aboutModal = document.getElementById("aboutModal");
        const cvModal = document.getElementById("cvModal");

        function closeAllModals() {
            projectModal.style.display = "none";
            aboutModal.style.display = "none";
            cvModal.style.display = "none";
        }

        // 1. OPEN PROJECT
        function openProjectModal(data) {
            closeAllModals(); // Close others first
            document.getElementById("modalTitle").innerText = data.fullName;
            document.getElementById("modalBody").innerHTML = data.desc;
            
            const linkContainer = document.getElementById("modalLinks");
            linkContainer.innerHTML = ""; 
            if (data.pdf) {
                linkContainer.innerHTML += `<a href="${data.pdf}" target="_blank" class="btn">ðŸ“„ Analysis (PDF)</a> `;
            }
            if (data.github) {
                linkContainer.innerHTML += `<a href="${data.github}" target="_blank" class="btn btn-outline">ðŸ’» Code (GitHub)</a>`;
            }
            
            projectModal.style.display = "block";
            try { world.controls().autoRotate = false; } catch(e){}
        }

        // 2. OPEN ABOUT
        function openAbout() {
            closeAllModals();
            aboutModal.style.display = "block";
            toggleSidebar(); // Close sidebar so we can see the modal
            try { world.controls().autoRotate = false; } catch(e){}
        }

        // 3. OPEN CV (EMBEDDED)
        function openCV() {
            closeAllModals();
            // Set the PDF source dynamically
            document.getElementById('cvFrame').src = "cv.pdf"; 
            document.getElementById('cvDownloadLink').href = "cv.pdf";
            
            cvModal.style.display = "block";
            toggleSidebar();
            try { world.controls().autoRotate = false; } catch(e){}
        }

        window.onclick = e => { 
            if (e.target == projectModal || e.target == aboutModal || e.target == cvModal) closeAllModals(); 
        }

        // --- POPULATE PROJECT LIST ---
        const listContainer = document.getElementById('project-list-container');
        myProjects.forEach(p => {
            const div = document.createElement('div');
            div.className = 'sidebar-project-link';
            div.innerHTML = `${p.fullName}`;
            div.onclick = () => { openProjectModal(p); };
            listContainer.appendChild(div);
        });

        // --- GLOBE INITIALIZATION ---
        const world = Globe()(document.getElementById('globeViz'))
            .globeImageUrl('//unpkg.com/three-globe/example/img/earth-blue-marble.jpg')
            .backgroundImageUrl('//unpkg.com/three-globe/example/img/night-sky.png')
            
            .htmlElementsData(myProjects)
            .htmlLat('lat')
            .htmlLng('lng')
            .htmlElement(d => {
                const el = document.createElement('div');
                el.className = 'project-dot'; 
                el.onclick = () => openProjectModal(d);
                return el;
            })
            
            .labelsData(myProjects)
            .labelLat('lat')
            .labelLng('lng')
            .labelText('name')
            .labelSize(1.5)
            .labelDotRadius(0) 
            .labelColor(() => 'rgba(255, 255, 255, 0.85)')
            .labelAltitude(0.05) 
            .onLabelClick(openProjectModal);

        try {
            world.controls().autoRotate = false;
            world.controls().autoRotateSpeed = 0.5;
        } catch (err) { }
    </script>
</body>
</html>
